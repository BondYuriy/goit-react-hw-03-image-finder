{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/ImageItem/ImageItem.module.css","service/api.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/ImageItem/ImageItem.js","components/Modal/Modal.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","search","pages","FETCH_URL","axios","get","then","response","data","hits","INITIAL_STATE","Searchbar","state","handleChange","currentTarget","name","value","setState","submitForm","evt","preventDefault","onSubmit","props","reset","this","className","styles","searchbar","form","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","alt","openModal","item","src","image","role","onClick","defaultProps","ImageGallery","items","gallery","map","id","key","Button","addNewPage","btn","ImageItem","imageUrl","img","Modal","overlayRef","createRef","nandleKeyPress","closeModal","code","handleOverlayClick","target","current","window","addEventListener","removeEventListener","children","overlay","ref","modal","MODAL_ROOT","document","querySelector","Finder","error","isLoader","isModal","getItems","API","prevState","catch","finally","getSearchInput","str","showsLargeImage","find","largeImageURL","prevProps","length","scrollTo","top","documentElement","scrollHeight","behavior","app","loader","color","height","width","timeout","createPortal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1837220d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__26F25\",\"image\":\"ImageGalleryItem_image__32_jr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1IksY\",\"loader\":\"App_loader__36Wa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ImageItem_img__1q2qL\"};","import axios from 'axios';\n\nconst key = '14816782-eacb98039d192ea6b6a9f6855';\n\nconst getData = (search, pages) => {\n  const FETCH_URL = `https://pixabay.com/api/?q=${search}&page=${pages}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return axios.get(FETCH_URL).then(response => response.data.hits);\n};\n\nexport default { getData };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nconst INITIAL_STATE = {\n  search: '',\n};\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = { ...INITIAL_STATE };\n\n  handleChange = ({ currentTarget }) => {\n    const { name, value } = currentTarget;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  submitForm = evt => {\n    evt.preventDefault();\n\n    const { search } = this.state;\n    const { onSubmit } = this.props;\n\n    onSubmit(search);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ ...INITIAL_STATE });\n  };\n\n  render() {\n    const { search } = this.state;\n\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.form} onSubmit={this.submitForm}>\n          <button type=\"submit\" className={styles.button}>\n            <span className={styles.label}>Search</span>\n          </button>\n\n          <input\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"search\"\n            value={search}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, alt, openModal }) => (\n  <li className={styles.item}>\n    <img\n      src={webformatURL}\n      alt={alt}\n      className={styles.image}\n      role=\"presentation\"\n      onClick={openModal}\n    />\n  </li>\n);\n\nImageGalleryItem.defaultProps = {\n  alt: 'gallery photo',\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, openModal }) => (\n  <ul className={styles.gallery}>\n    {items.map(item => {\n      const { id, webformatURL } = item;\n\n      return (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          openModal={() => openModal(id)}\n        />\n      );\n    })}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ addNewPage }) => (\n  <button className={styles.btn} type=\"button\" onClick={addNewPage}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  addNewPage: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageItem.module.css';\n\nconst ImageItem = ({ imageUrl, alt }) => (\n  <img className={styles.img} src={imageUrl} alt={alt} />\n);\n\nImageItem.defaultProps = {\n  alt: 'gallery photo',\n};\n\nImageItem.propTypes = {\n  imageUrl: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n\nexport default ImageItem;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    closeModal: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired,\n  };\n\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.nandleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.nandleKeyPress);\n  }\n\n  nandleKeyPress = evt => {\n    const { closeModal } = this.props;\n\n    if (evt.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  handleOverlayClick = ({ target }) => {\n    const { current } = this.overlayRef;\n    const { closeModal } = this.props;\n\n    if (current && target === current) {\n      closeModal();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <div\n        className={styles.overlay}\n        onClick={this.handleOverlayClick}\n        ref={this.overlayRef}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { createPortal } from 'react-dom';\nimport API from '../../service/api';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport ImageItem from '../ImageItem/ImageItem';\nimport Modal from '../Modal/Modal';\nimport styles from './App.module.css';\n\nconst MODAL_ROOT = document.querySelector('#modal-root');\n\nexport default class Finder extends Component {\n  state = {\n    items: [],\n    search: '',\n    pages: 1,\n    error: null,\n    isLoader: false,\n    isModal: false,\n    imageUrl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { search, items } = this.state;\n\n    if (prevState.search !== search) {\n      this.getItems();\n    }\n\n    if (prevState.items.length !== items.length) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  getItems = () => {\n    const { search, pages } = this.state;\n\n    this.setState({ isLoader: true });\n\n    API.getData(search, pages)\n      .then(data =>\n        this.setState(prevState => ({\n          items: [...prevState.items, ...data],\n          pages: prevState.pages + 1,\n        })),\n      )\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => {\n        this.setState({ isLoader: false });\n      });\n  };\n\n  getSearchInput = str => {\n    const { search } = this.state;\n\n    if (str !== search) {\n      this.setState({ items: [], search: str, pages: 1 });\n    }\n  };\n\n  showsLargeImage = id => {\n    const { items } = this.state;\n\n    items.find(item => {\n      return item.id === id\n        ? this.setState({ imageUrl: item.largeImageURL })\n        : null;\n    });\n  };\n\n  openModal = id => {\n    this.showsLargeImage(id);\n\n    this.setState({ isModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isModal: false });\n  };\n\n  render() {\n    const { items, error, isLoader, isModal, imageUrl } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.getSearchInput} />\n        {error && <h1>ERROR</h1>}\n        {items.length > 0 && (\n          <ImageGallery items={items} openModal={this.openModal} />\n        )}\n        {isLoader && (\n          <div className={styles.loader}>\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={80}\n              width={80}\n              timeout={3000}\n            />\n          </div>\n        )}\n        {items.length > 0 && <Button addNewPage={this.getItems} />}\n        {isModal &&\n          createPortal(\n            <Modal closeModal={this.closeModal}>\n              <ImageItem imageUrl={imageUrl} />\n            </Modal>,\n            MODAL_ROOT,\n          )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Finder from './components/App/App';\nimport './index.module.css';\n\nReactDOM.render(<Finder />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}